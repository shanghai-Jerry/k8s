# generated by kubectl cli
# $ k8s expose deploment blue-app --name canary --type=NodePort --dry-run=client -o yaml > blue-app-canary-svc.yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    type: canary
  name: canary
spec:
  ports:
  - port: 80
    protocol: TCP
    targetPort: 80
  selector:
    type: canary  # 同一个service，通过相同的selector来实现不同deployment中pod的负载均衡
  type: NodePort
status:
  loadBalancer: {}
